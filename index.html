<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="google-site-verification" content="raTLOxj-TDDGCH6HUnLYN1F9dyO1fqiXpkALv5R_4wg" />
  <link rel="alternate" href="http://aswin5.github.io" hreflang="en-us" />
  
  <title>CodexDelta</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Journal of creating and learning awesome things.">
<meta property="og:type" content="website">
<meta property="og:title" content="CodexDelta">
<meta property="og:url" content="http://aswin5.github.io/index.html">
<meta property="og:site_name" content="CodexDelta">
<meta property="og:description" content="Journal of creating and learning awesome things.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CodexDelta">
<meta name="twitter:description" content="Journal of creating and learning awesome things.">
<meta name="twitter:creator" content="@_ashdev">
  
    <link rel="alternate" href="/atom.xml" title="CodexDelta" type="application/atom+xml">
  
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" integrity="sha384-XdYbMnZ/QjLh6iI4ogqCTaIjrFk87ip+ekIjefZch0Y+PvJ8CDYtEs1ipDmPorQ+" crossorigin="anonymous">

  <link rel="stylesheet" href="/css/styles.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-65052443-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <nav class="navbar navbar-inverse">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-menu-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="main-menu-navbar">
      <ul class="nav navbar-nav">
        
          <li><a class="active"
                 href="/index.html">Home</a></li>
        
          <li><a class=""
                 href="/archives/">Archives</a></li>
        
          <li><a class=""
                 href="/aboutme/">About me</a></li>
        
          <li><a class=""
                 href="/projects/">Projects</a></li>
        
      </ul>

      <!--
      <ul class="nav navbar-nav navbar-right">
        
          <li><a href="/atom.xml" title="RSS Feed"><i class="fa fa-rss"></i></a></li>
        
      </ul>
      -->
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

  <div class="container">
    <div class="blog-header">
  <h1 class="blog-title">CodexDelta</h1>
  
    <p class="lead blog-description">Any fool can know. The point is to understand. ― Albert Einstein</p>
  
</div>

    <div class="row">
        <div class="col-sm-8 blog-main">
          
  
    <article id="post-transclusion_in_angularjs" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/02/transclusion_in_angularjs/">Transclusion in angularjs</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2017/05/02/transclusion_in_angularjs/" class="article-date"><time datetime="2017-05-02T17:04:05.000Z" itemprop="datePublished">02-05-2017</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>Transclusion is one of the those topics which was quite difficult for me to understand at first. It was when I dicided to write this article that I fully understood the concept of transclusion. If we mention transclusion: true in the directive defination then it will make sure that the original content of the directive is available to use and attach to some other portion of the template. </p>
<p>In link function the fifth element is the transclusion (first four being the element, scope, the attributes and the required controllers). </p>
<p>So let me explain to you in code</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">//defination of directive</div><div class="line">app.directive('myCard', function()&#123;</div><div class="line">  return&#123;</div><div class="line">    restrict: 'AE', </div><div class="line">    transclude: true,</div><div class="line">    templateUrl: 'template.html', </div><div class="line">    link: function(scope, elem, attrs, ctrls, transclude)&#123;</div><div class="line">      el.find('.content').append(transclude()); // this would tell transclude the elements inside directive (inject) into resulting html where the class is 'content'.</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"></div><div class="line">// pre-compiled html code</div><div class="line">&lt;my-card my-title="basic"&gt;</div><div class="line">    &lt;p&gt;viva la vida&lt;/p&gt;</div><div class="line">    &lt;h1&gt;working awesome&lt;/h1&gt;</div><div class="line">&lt;/my-card&gt;</div><div class="line"></div><div class="line"></div><div class="line">// template.html</div><div class="line">&lt;article&gt;</div><div class="line">    &lt;h2&gt;&#123;&#123;title&#125;&#125;&lt;/h2&gt;</div><div class="line">    &lt;div class="content"&gt;</div><div class="line">    </div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/article&gt;</div><div class="line"></div><div class="line"></div><div class="line">// resulting html page</div><div class="line">&lt;my-card my-title="basic"&gt;</div><div class="line">    &lt;article&gt;</div><div class="line">    &lt;h2&gt;&#123;&#123;title&#125;&#125;&lt;/h2&gt;</div><div class="line">    &lt;div class="content"&gt;</div><div class="line">        &lt;p&gt;viva la vida&lt;/p&gt;</div><div class="line">        &lt;h1&gt;working awesome&lt;/h1&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/article&gt;</div><div class="line">&lt;/my-card&gt;</div></pre></td></tr></table></figure>
<p>For working example please <a href="https://jsfiddle.net/aswin5/xvy69m01/" target="_blank" rel="external">click here</a></p>
<p>Transclusion helps in injecting pre-compiled content of a directive to a post-compile directive with or without modifiying the actual content. </p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://aswin5.github.io/2017/05/02/transclusion_in_angularjs/" data-id="cj27t2rec0002lngb12odzxhv" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angularjs/">angularjs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/transclusion/">transclusion</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-playing_around_with_custom_directive_in_AngularJs" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/09/playing_around_with_custom_directive_in_AngularJs/">Playing around custom directive in AngularJs</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2017/04/09/playing_around_with_custom_directive_in_AngularJs/" class="article-date"><time datetime="2017-04-08T23:23:15.000Z" itemprop="datePublished">09-04-2017</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p>Directive is one of the most powerful feature of the angularjs but it is also one of the most confusing element of angularjs. In your template there would be so many repetitive components which would make our code bulky if we go forward by repeating the same code again and again so how about creating a custom directive which helps you repeat the component innumberable times with using ng-repeat irrespective of the position and template for the directive.</p>
<p>so how to use a directive, it could be used as an element, an attribute to another element, or even as a comment. Each directive could be restricted to the type of use using restrict key with value as ‘A’, ‘E’, ‘M’ or even ‘AEM’ or ‘AE’  or ‘EM’.</p>
<p>A: Attribute</p>
<p>E: Element</p>
<p>M: Comments</p>
<p>following code makes the attribute to be used as an attribute and as a element.</p>
<h5 id="Creating-a-simplest-custom-directive"><a href="#Creating-a-simplest-custom-directive" class="headerlink" title="Creating a simplest custom directive"></a>Creating a simplest custom directive</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">var app = angular.module(&apos;myApp&apos;, []);</div><div class="line">app.directive(&apos;interestCard&apos;, function()&#123;</div><div class="line">  return &#123;</div><div class="line">    restrict: &apos;AE&apos;, // restrict the use of directive as element or attribute to an element</div><div class="line">   	template: &apos;&lt;h1&gt;viva la vida&lt;/h1&gt;&apos;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>In the above directive we used template for defining how our directive would look like, we could add ‘replace: true,’ which will make sure that when our directive is called upon it actually replaces our directive with the template in directive thus you wont find the directive in final dom elements but you will find the template itself.</p>
<p>The template mentioned in above code is quite simple, it could be replaced by templareUrl to include a more complex template for the directive’s use.</p>
<p><strong>Understanding scope in directive</strong></p>
<p>Ever wondered what all options are available for angular to manipulate data at multiple levels in a single app. Manage data at main app controller, go with the modular approach in building app and handle separate isolated data model for making the isolated components work. In certain uses cases angular directive needs to interact with other controllers defined outside the directive to access certain functions and to change certain scope values. The directive could have its own controller or it can borrow it from main controller.</p>
<p>In the following section we will explore what all options we have in dealing with data and scoped objects at directive level. Scope in directive are of three types which includes: shared, inherited and isolated scopes. now what does it mean?</p>
<p>scope: false</p>
<p>Shared scope, when directive is using scope of controller. Normally scope in directive is always inherited by parent scope, thus making it accessable to functions and scope values defined in controller. Let me remind you any change in the directive in scope it will reflect in the controller’s scope.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">app.directive(&apos;vivaLaVida&apos;, function() &#123;</div><div class="line">  return &#123;</div><div class="line">    restrict: &apos;A&apos;,</div><div class="line">    scope: false,</div><div class="line">    ......</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>scope: true</p>
<p>Then there is a true condition where a new scope is created for the directive and change in directive scope will not reflect in the scope of controller this new scope is a disconnected child of the parent controller with all the same property but no tie with the parent.</p>
<p>scope: {}</p>
<p>when scope(directive) is completely isolated from scope of controller we go with ‘scope: {}’. well why isolated scope what’s the need to have a sperate scope when you already have one which can be accessed by all. the point to drive back home is you dont want your main controllers scope gets all messed up with logics which are specific to directives and would not be used anywhere else other then that directive.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">app.directive(&apos;vivaLaVida&apos;, function()&#123;</div><div class="line">  return&#123;</div><div class="line">    restrict: &apos;AE&apos;,</div><div class="line">    scope: &#123;&#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>scope elements could be made to connect with different elements through different binding levels, this makes isolated scope great since you have the enviornment totally isolated plus connectivity required as per need. this binding involves</p>
<ul>
<li>@ : one way binding mostly used for passing strings values in scope</li>
<li>= : two way binding for sharing model. the model in parent scope is connected to isolated scope of directive.</li>
<li>&amp; : binding is for passing methods into isolated scope of directive making it available to be called form inside of directive.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">app.directive(&apos;vivaLaVida&apos;, function()&#123;</div><div class="line">  return &#123;</div><div class="line">    restrict: &apos;AE&apos;,</div><div class="line">    scope: &#123;</div><div class="line">      messageText: &apos;@&apos;,</div><div class="line">      userModel: &apos;=&apos;,</div><div class="line">      alertFunction: &apos;&amp;&apos;</div><div class="line">    &#125;,</div><div class="line">    .....</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h5 id="Compile-your-directive"><a href="#Compile-your-directive" class="headerlink" title="Compile your directive"></a>Compile your directive</h5><p>compile function is like adding last end changes and functionality before the directive is pushed to DOm with its controller. you can have both compile and link function  or inside link function you can have pre-link and post-link functions. its just the same.</p>
<p>now lets go deeper, lets bring some facts on the table regarding DOM and angular. If we go through what’s happening at the back then you would notice that at first whole of the DOM is loaded and then a broadcast is triggered when DOM is ready, angular listen to this trigger and parse the DOM searching for attribute ng-app when found it starts proccessing the DOM from that element.</p>
<p>Now its depends a lot on the directive’s defination for how angular would parse the directive. Following example would be helpful in understanding deeper concepts with compile and link functions.</p>
<p>following code reference from <a href="http://www.jvandemo.com/the-nitty-gritty-of-compile-and-link-functions-inside-angularjs-directives/" target="_blank" rel="external">jvandemo.com</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;level-one&gt;  </div><div class="line">    &lt;level-two&gt;</div><div class="line">        &lt;level-three&gt;</div><div class="line">            Hello &#123;&#123;name&#125;&#125;         </div><div class="line">        &lt;/level-three&gt;</div><div class="line">    &lt;/level-two&gt;</div><div class="line">&lt;/level-one&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">var app = angular.module(&apos;plunker&apos;, []);</div><div class="line"></div><div class="line">function createDirective(name)&#123;  </div><div class="line">  return function()&#123;</div><div class="line">    return &#123;</div><div class="line">      restrict: &apos;E&apos;,</div><div class="line">      compile: function(tElem, tAttrs)&#123;</div><div class="line">        console.log(name + &apos;: compile&apos;);</div><div class="line">        return &#123;</div><div class="line">          pre: function(scope, iElem, iAttrs)&#123;</div><div class="line">            console.log(name + &apos;: pre link&apos;);</div><div class="line">          &#125;,</div><div class="line">          post: function(scope, iElem, iAttrs)&#123;</div><div class="line">            console.log(name + &apos;: post link&apos;);</div><div class="line">          &#125;</div><div class="line">        &#125;</div><div class="line">      &#125;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">app.directive(&apos;levelOne&apos;, createDirective(&apos;levelOne&apos;));  </div><div class="line">app.directive(&apos;levelTwo&apos;, createDirective(&apos;levelTwo&apos;));  </div><div class="line">app.directive(&apos;levelThree&apos;, createDirective(&apos;levelThree&apos;));</div></pre></td></tr></table></figure>
<p>here is the output</p>
<p><img src="http://www.jvandemo.com/content/images/2014/Aug/console-output-1.png" alt="Output"></p>
<p>if you notice the output console you would see the order in which the code runs.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// COMPILE PHASE</span></div><div class="line"><span class="comment">// levelOne:    compile function is called</span></div><div class="line"><span class="comment">// levelTwo:    compile function is called</span></div><div class="line"><span class="comment">// levelThree:  compile function is called</span></div><div class="line"></div><div class="line"><span class="comment">// PRE-LINK PHASE</span></div><div class="line"><span class="comment">// levelOne:    pre link function is called</span></div><div class="line"><span class="comment">// levelTwo:    pre link function is called</span></div><div class="line"><span class="comment">// levelThree:  pre link function is called</span></div><div class="line"></div><div class="line"><span class="comment">// POST-LINK PHASE (Notice the reverse order)</span></div><div class="line"><span class="comment">// levelThree:  post link function is called</span></div><div class="line"><span class="comment">// levelTwo:    post link function is called</span></div><div class="line"><span class="comment">// levelOne:    post link function is called</span></div></pre></td></tr></table></figure>
<p>few points to notice, how angular run the compile of each element from top to bottom and then run the link function starting with pre-link in the same order but the post-link function is reverse order.</p>
<p>Compile function:</p>
<p>use compile function to change the original DOM elements before angualrjs creates instance of it and before scope is created. ng-repeat is a perfect example for this.</p>
<p>When compile runs scope is yet not assigned hence compile function can be defined as</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line">* Compile function</div><div class="line">*</div><div class="line">* @param tElem - template element</div><div class="line">* @param tAttrs - attributes of the template element</div><div class="line">*/</div><div class="line"><span class="function"><span class="keyword">function</span>(<span class="params">tElem, tAttrs</span>)</span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">// ...</span></div><div class="line"></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>pre-link function:</p>
<p>use pre-link function to manipulate the scope of the directive before the post-link function is called since we have the scope, elements and attributes but no controller. Controller only comes in the post-link function of the directive.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line">* Pre-link function</div><div class="line">*</div><div class="line">* @param scope - scope assigned to the directive</div><div class="line">* @param tElem - template element</div><div class="line">* @param tAttrs - attributes of the template element</div><div class="line">*/</div><div class="line"><span class="function"><span class="keyword">function</span>(<span class="params">scope, tElem, tAttrs</span>)</span>&#123;</div><div class="line"></div><div class="line">    <span class="comment">// ...</span></div><div class="line"></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>post-link function:</p>
<p>run post-link function to execute the logic of your directive or instance since all child elements compile and pre-link functions have been executed.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line">* Post-link function</div><div class="line">*</div><div class="line">* @param scope - scope assigned to the directive</div><div class="line">* @param tElem - template element</div><div class="line">* @param tAttrs - attributes of the template element</div><div class="line">*/</div><div class="line">function(scope, tElem, tAttrs)&#123;</div><div class="line"></div><div class="line">    // ...</div><div class="line"></div><div class="line">&#125;;</div></pre></td></tr></table></figure>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://aswin5.github.io/2017/04/09/playing_around_with_custom_directive_in_AngularJs/" data-id="cj27t2re30000lngb9dy1pt93" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/angularjs/">angularjs</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/directive/">directive</a></li></ul>


    </footer>
  </div>
  
</article>



  
    <article id="post-Building_production_ready_backend_in_20_mins" class="article article-type-post" itemscope itemprop="blogPost">

  <header class="article-header">
    
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/06/Building_production_ready_backend_in_20_mins/">Building production ready backend in 20 mins</a>
    </h1>
  


  </header>

  <div class="article-meta">
    <div class="article-datetime">
  <a href="/2017/02/06/Building_production_ready_backend_in_20_mins/" class="article-date"><time datetime="2017-02-05T19:23:15.000Z" itemprop="datePublished">06-02-2017</time></a>
</div>

    
    

  </div>
  <div class="article-inner">

    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="/images/REST-API-using-Selenium_1-768x389.jpg" alt=""></p>
<p>Nodejs is a js runtime which is built on chrom’s v8 js engine, there are few remarkable features of nodejs application which makes it choice of 2017 in building server side application. It is based on event-driven, non-blocking I/O model that makes it so lightweight and efficeint you won’t even feel like you are developing a server side application which is going to act as provider and handler for millions of incoming requests. This all comes from the family of ECMAscript which is an object oriented programming language for performing computations and manipulating computational objects within a host environment.<br>Prior to V8 engine host environment was something which synonym with just the browser but ever since the implementation of v8 you have the same browser plus additional feature outside the browser. In node the program never stops that’s what node mindset says. You don’t have to wait for any program to get done or send back the control when done. Nodejs application gives the capability to run js application with server-side capabilities.</p>
<p>There is a latest trend in the developers community to go mobile first, this doesn’t mean you are developing an application which is for mobile app and then for other devices, no what it means is you are developing something which is pluggable for all devices. Prior to this the main focus was on the front, its look and feel, your backend acted like simple dumper and fetcher for your frontend data. This is changing now, we are moving ahead with the more broader scope utilization with nodejs framework, prominently into IOT. Embedded devices are changing everything, you dont need front for everything.</p>
<p>GE Aviation is powering there aircraft with sensors, more like event driven architecture where nodejs is being used. Ebay has already switched to nodejs to handle there huge traffic but when it comes to traffic walmart’s site is the biggest nodejs application in terms of traffic handling. When paypal switched to nodejs for they observed a 2X performance as compared to there java web app and that was when nodejs was just new to the programming world. The recent switch of Linkedin app into a nodejs application is again benchmark achieved by nodejs, did I miss the point of Uber. Well they too have started using nodejs for there application.</p>
<p>Paypal’s tech blog says they observed a 35% decrease in response time for there site. Now that’s a huge plus point for paypal for handling such a gigantic traffic that they observe during a black Friday.<br>So where can you use nodejs?</p>
<p>JavaScript is everywhere. With JavaScript you</p>
<ul>
<li>can control Internet of Things devices,</li>
<li>implement real-time services,</li>
<li>develop web applications,</li>
<li>operate e-commerce sites,</li>
<li>serve as backend for your mobile applications</li>
<li>enterprise web services (what are you waiting for when giants are     favoring nodejs?)<br>and lot more.</li>
</ul>
<p><strong>What you get from nodejs?</strong></p>
<ul>
<li>You can cut short to half the number of developer required to     develop a product.</li>
<li>No need for extra servers to handle     application, database and separate controlling master     backend.</li>
<li>Load time for the page is reduce to 50%</li>
<li>Its always the best developers who endeavor into new tech and     explore it to the full</li>
<li>Your     customer is always happy with your fast deliveries.</li>
<li>Your developer is also happy with the opportunity to work on the best     tech in the market.</li>
<li>You staff stay with you longer since you are providing the best     learning environment which is hard to find in the market.</li>
</ul>
<p><strong>What’s next in this?</strong><br>If you observe technical trends closely you will observe that enterprises are planning and outsourcing there new requirements into modern technologies like Nodejs and they are caution but desperately want to switch to something faster and reliable. And the best choice in the market is nodejs. Which answers all the question required to handle a full-fledged system keeping a consistent technology both at front and at back. With MEAN stack we only require few hours to prototype and deliver a proof-of-concept in the beginning and move to a full monitored deployment with space for scalability once a green signal is achieved from concerned places.</p>
<p>When you are using traditional server for your web application which is based on thread then you are leveraging each incoming request to a server thread and one thread can handle only one request at a time and you can have only limited number of threads running in your web application server. If you have a huge server which gives you a response in under half a millisecond then you dont need to even think of node but this is not the real case scenario. Companies usually dont have such huge server to concurrently handle request on each thread. When it comes to nodejs it runs on a single thread and dynamically changes the traditional architecture by creating an event loop in the system this event loop handles all the incoming request and give each request a callback which is a c++ pointer and then it moves on to the next incoming request and so on no incoming request have to wait to get the response back to the request.</p>
<p>Once the incoming request is assigned a c++ pointer which is also called a callback. The task in hand of every request is passed on to operating system’s POSIX async threads which makes it so Non-blocking IO system. No matter how slow your db is your system will not break if new request keeps on coming in.</p>
<p><img src="/images/NodeJS-Stack.png" alt=""></p>
<p>If you look at the structure of the stack of nodejs you will observe that js is present only on the topmost layer rest all is built in c/c++. so the application layer interacts with nodejs standard library which is built using js and its binding which helps you create socket, http and other activities is built using c/c++ which again forward to the V8 engine which has a performance library names Libuv (earlier it was libeio and libev but libuv is the latest upgrade that V8 engine encountered). From then on the task is handled by multiple kernal threads.</p>
<p>Gone are those days when you had to serialize the data coming from frontend to backend and then to database. These days when the fullstack development is at full craze you can have the same data model at your frontend app, at your backend and at your database allowing you to focus more on quality development rather then technical issues which could come up with other tech stack.</p>
<p>Do you still have doubt about nodejs?</p>
<p>Here is the chart showing number of modules available in the nodejs, the count is more than any other platform.</p>
<p><img src="/images/module_count-768x562.png" alt=""><br><img src="/images/trend_tech_chart-768x476.png" alt=""></p>
<p><strong>Getting started with Loopback to build your REST api.</strong><br>Loopback is a nodejs framework build by strongloop an IBM owned company. Strongloop have the biggest pie share for contributing to nodejs repo.<br>So what does loopback help you with in this whole setup? It helps you to create quickly dynamic REST apis to your host server. Highly extensible and opensource framework. Your quick solution to connect your any devices with your services and get you started with real challenge that is to design the best application solving the problem.<br>Loopback uses yeoman to scaffold your node application which is controlled by loopback’s cli. This cli acts as a command center of the developer while building the application.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$slc loopback <span class="comment">// to get started with the loopback</span></div></pre></td></tr></table></figure></p>
<p><img src="/images/loopback_1.png" alt=""></p>
<p>you can give yo-ur application name over here : we will be giving it as viva-la-vida</p>
<p>A series of interaction would be there to help you get setup some key points in the application such as what should be the name of the directory in which the app will contain, which version of loopback would you like use, what kind of application you have in mind? This would include what database you want to choose from. Its pretty simple answers which would help the yeoman scaffold your app best to your requirement.</p>
<p><img src="/images/loopback_2-768x291.png" alt=""><br>It will run npm install for you and install all the dependies for you.<br>Then comes the need to define the model of data which you require for your REST api.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$cd viva-la-vida // to enter into the application root directory.</div><div class="line">$slc loopback:model</div></pre></td></tr></table></figure></p>
<p><img src="/images/loopback_3-300x192.png" alt=""><br>Now comes the real game, which is to design your model which will be exposed using REST api.</p>
<p>It asks you to choose your datasource, currently we dont have a datasource other then memory so go wth memory for now later we will be swicthing to mongodb.</p>
<p>You will be asked to give a name to your model followed by what base class would you like choose for your model. There are some prebuild base-class models which you could choose from and there is a custom option too which could help you design your own model.</p>
<p>A standard which we following while building up REST api is to give a pural name to the api endpoint to that model keeping things standard and consistent through out the application. You can also choose weather you want to keep your model common between your client and server side both or you want to keep your model only at server side. In MEAN stack it is common to use a common mode structure which could be used at client side and at server side, which saves time and keep things in consistant form.</p>
<p>There are multiple best practices which has been included in loopback including structure, security, permissions and access limits etc.</p>
<p>Now comes adding properties to the model person, its more like adding column to the table, we have defined ‘firstname’ as our first property. It will ask you to choose the type of the property to be defined for the column we have selected string as our type then it ask you whether you want to keep this property as required or not. What should be the default value for this property.</p>
<p>That was simple right, similarity you mention all the properties which is required in the model. So loopback has done a lot of work for us setting up our application with basic structure which is extensible to build a full-fledged application on this.</p>
<p>Go ahead and see the whole code in your editor and run the application by typing in:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$node .</div></pre></td></tr></table></figure></p>
<p>Most likely you will be asked to access <a href="http://0.0.0.0:3000/explorer" target="_blank" rel="external">http://0.0.0.0:3000/explorer</a> (<a href="http://0.0.0.0:3000/explorer" target="_blank" rel="external">http://0.0.0.0:3000/explorer</a>) to interact with REST apis graphically unless you have given a custom path for server. Loopback has designed a great REST interacting GUI helping you to test your REST calls. You can perform PUT, POST, GET, DELETE etc.</p>
<p>Now time change your datasource to mongodb.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$slc loopback:datasource</div></pre></td></tr></table></figure></p>
<p>This will give you an options of databases which are currently supported by loopback. Choose mongo for our current requirement.<br>You will have to install the connector for this database.<br>$npm install –save loopback-connector-mongodb<br>This will install the right conenctor for the mongodb. Following the installation change the settings of the application by updating the .loopbackrc file in the root directory with following data.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    &quot;dev&quot;: &#123;</div><div class="line">        &quot;mongodb&quot;: &#123;</div><div class="line">            &quot;host&quot;: &quot;127.0.0.1&quot;,</div><div class="line">            &quot;database&quot;: &quot;test&quot;,</div><div class="line">            &quot;username&quot;: &quot;youruser&quot;,</div><div class="line">            &quot;password&quot;: &quot;yourpass&quot;,</div><div class="line">            &quot;port&quot;: 27017</div><div class="line">        &#125;</div><div class="line">    &#125;,</div><div class="line">    &quot;test&quot;: &#123;</div><div class="line">        &quot;mongodb&quot;: &#123;</div><div class="line">            &quot;host&quot;: &quot;127.0.0.1&quot;,</div><div class="line">            &quot;database&quot;: &quot;test&quot;,</div><div class="line">            &quot;username&quot;: &quot;youruser&quot;,</div><div class="line">            &quot;password&quot;: &quot;yourpass&quot;,</div><div class="line">            &quot;port&quot;: 27017</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Username/password is only required if the mongodb server has authentication enabled.<br>Update the datasource.json file inside your server directory. With following code:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">&quot;mongodb&quot;: &#123;</div><div class="line">&quot;host&quot;: &quot;localhost&quot;,</div><div class="line">&quot;port&quot;: 27017,</div><div class="line">&quot;url&quot;: &quot;http://mongodb://localhost/loopback&quot;,</div><div class="line">&quot;database&quot;: &quot;mongodb&quot;,</div><div class="line">&quot;password&quot;: &quot;&quot;,</div><div class="line">&quot;name&quot;: &quot;mongodb&quot;,</div><div class="line">&quot;user&quot;: &quot;&quot;,</div><div class="line">&quot;connector&quot;: &quot;mongodb&quot;</div><div class="line">&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Now you have a datasource with the name of mongodb. You just need one more configuration to make it run. In your server folder go to model-config.json and replace db which was your default in-memory db for your model with new ‘mongodb’. This will connect your model data with your database and replicate the structure.</p>
<p>That’s it run you application with “node .” and experiment it as you like. This will give you a better understanding of the application.<br>So this was an example which involved basic REST app with nodejs and loopback. But the next step should be to make it a full-fledged node app which is monitor-able and scalable.</p>

      
    </div>

    
      

    

    <footer class="article-footer">
      <a data-url="http://aswin5.github.io/2017/02/06/Building_production_ready_backend_in_20_mins/" data-id="cj27t2rem0005lngbyjlz5zyk" class="article-share-link">
        <i class="fa fa-share"></i> Share
      </a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JavaScript/">JavaScript</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Loopback/">Loopback</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Nodejs/">Nodejs</a></li></ul>


    </footer>
  </div>
  
</article>



  




        </div>
        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">
          
  <div class="sidebar-module sidebar-module-inset">
  <h4>About</h4>
  <p>Hi my name is Aswin Devarajan. If you enjoyed any of my article, send me a tweet <a href="https://twitter.com/_ashdev">@_ashdev</a></p>

</div>


  


  
  <div class="sidebar-module">
    <h4>Tags</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/JavaScript/">JavaScript</a><span class="sidebar-module-list-count">3</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Loopback/">Loopback</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/Nodejs/">Nodejs</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/angularjs/">angularjs</a><span class="sidebar-module-list-count">2</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/directive/">directive</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/tags/transclusion/">transclusion</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Tag Cloud</h4>
    <p class="tagcloud">
      <a href="/tags/JavaScript/" style="font-size: 20px;">JavaScript</a> <a href="/tags/Loopback/" style="font-size: 10px;">Loopback</a> <a href="/tags/Nodejs/" style="font-size: 10px;">Nodejs</a> <a href="/tags/angularjs/" style="font-size: 15px;">angularjs</a> <a href="/tags/directive/" style="font-size: 10px;">directive</a> <a href="/tags/transclusion/" style="font-size: 10px;">transclusion</a>
    </p>
  </div>


  
  <div class="sidebar-module">
    <h4>Archives</h4>
    <ul class="sidebar-module-list"><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/05/">May 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/04/">April 2017</a><span class="sidebar-module-list-count">1</span></li><li class="sidebar-module-list-item"><a class="sidebar-module-list-link" href="/archives/2017/02/">February 2017</a><span class="sidebar-module-list-count">1</span></li></ul>
  </div>



  
  <div class="sidebar-module">
    <h4>Recents</h4>
    <ul class="sidebar-module-list">
      
        <li>
          <a href="/2017/05/02/transclusion_in_angularjs/">Transclusion in angularjs</a>
        </li>
      
        <li>
          <a href="/2017/04/09/playing_around_with_custom_directive_in_AngularJs/">Playing around custom directive in AngularJs</a>
        </li>
      
        <li>
          <a href="/2017/02/06/Building_production_ready_backend_in_20_mins/">Building production ready backend in 20 mins</a>
        </li>
      
    </ul>
  </div>



        </div>
    </div>
  </div>
  <footer class="blog-footer">
  <div class="container">
    <div id="footer-info" class="inner">
      &copy; 2017 Aswin Devarajan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

  

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" integrity="sha384-8gBf6Y4YYq7Jx97PIqmTwLPin4hxIzQw5aDmUg/DDhul9fFpbbLcLh3nTIIDJKhx" crossorigin="anonymous"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>



<script src="/js/script.js"></script>

</body>
</html>
